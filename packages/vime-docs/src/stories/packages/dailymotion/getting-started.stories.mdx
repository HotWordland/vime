import { Meta } from "@storybook/addon-docs/blocks";
import LinkTo from "@storybook/addon-links/react";

<Meta title="Packages/Dailymotion/Getting Started" />

<img
  width="450px"
  alt="vime"
  src="/brand/vime-dailymotion--dark.svg"
/>

<br/>

[![version-badge]][package]
[![size-badge]][size]
[![license-badge]][license]
[![github-badge]][github]
[![tweet-badge]][tweet]

[package]: https://www.npmjs.com/package/@vime-js/dailymotion
[version-badge]: https://img.shields.io/npm/v/@vime-js/dailymotion?style=flat-square
[size]: https://bundlephobia.com/result?p=@vime-js/dailymotion
[size-badge]: https://img.shields.io/bundlephobia/minzip/@vime-js/dailymotion?label=min%2Bgzip
[license]: https://github.com/vime-js/vime/blob/master/LICENSE
[license-badge]: https://img.shields.io/github/license/vime-js/vime?color=blue&style=flat-square
[tweet]: https://twitter.com/intent/tweet?text=Check%20out%20Vime%20%28https%3A%2F%2Fgithub.com%2Fvime-js%2Fvime%29%2C%20it%20makes%20embedding%20and%20using%20media%20players%20for%20the%20web%20simple.%20It%20supports%20Html5%2C%20YouTube%2C%20Dailymotion%2C%20Vimeo%20and%20more%20to%20come%21
[tweet-badge]: https://img.shields.io/twitter/url?style=social&url=https%3A%2F%2Fgithub.com%2Fvime-js%2Fvime
[github]: https://github.com/vime-js/vime
[github-badge]: https://img.shields.io/github/stars/vime-js/vime?style=social

## Installation

This package contains a **Lite** (DailymotionLite) and **Standard** (Dailymotion) player. If you'd like to
know what features they each include and the differences between them, 
see <LinkTo kind="overview-getting-started--page">Overview/Getting Started</LinkTo>.

**NPM:** `npm install @vime-js/dailymotion`

**YARN:** `yarn add @vime-js/dailymotion`

**UNPKG:** `https://unpkg.com/@vime-js/dailymotion`

The `dist` folder inside the package contains multiple exports:

- `dailymotion.js` is a UMD development build that can be used directly in the browser via the `<script>` tag.
- `dailymotion.esm.js` is intended for use with modern bundlers like [Webpack](https://webpack.js.org/) or [Rollup](http://rollupjs.org/guide/en/).
- `dailymotion.min.js` is a UMD production build that can be used directly in the browser via the `<script>` tag.
- `dailymotion.esm.min.js` is an ESM production build that includes the full build (standard + lite), and can be used directly in modern browsers via the `<script type="module">` tag.

üìù UMD builds are exported under the `Vime` namespace.

üìù If you're using a bundler then it will automatically pull in the correct files.

üìù If you're using [svelte-loader](https://github.com/sveltejs/svelte-loader) or [rollup-plugin-svelte](https://github.com/sveltejs/rollup-plugin-svelte) then you'll receive the uncompiled components.

## Setup

### JavaScript

```js
import { Dailymotion, DailymotionLite } from '@vime-js/dailymotion';

// Mount
const target = document.getElementById('player-target');

const player = new Dailymotion({
  target,
  // If you'd like to initialize any props on setup, you can do so here.
  props: {}
});

// ...

// Destroy
player.$destroy();
```

üìù See the Svelte [Client-side component API](https://svelte.dev/docs#Client-side_component_API) for the complete set of component initialization options.

### Svelte

```html
<Dailymotion bind:this={player} />

<script>
  import { onMount } from 'svelte';
  import { Dailymotion, DailymotionLite } from '@vime-js/dailymotion';

  let player;

  onMount(() => {
    // If you need to call any methods, you have access to the player instance here.
  });
</script>
```

## Usage

- The `Dailymotion` component returns the core Vime player interface (see <LinkTo kind="api-player--page">API/Player</LinkTo>).
- The `DailymotionLite` component returns the core Lite player interface (see <LinkTo kind="api-liteplayer--page">API/LitePlayer</LinkTo>).

### Notes

- An ad plays for 10 seconds at the start of every video which delays playback. The player ignores
all commands whilst the ad is playing. We store your commands and replay them once the ad finishes.
- Playback rate/rates are not supported because there is no API for it.

## Examples

For interactive examples go to 'Dailymotion/Components'.